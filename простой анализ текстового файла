from collections import Counter
import os

def analyze_lyrics(file_path):
    if not os.path.exists(file_path):
        print(f"Ошибка: файл {file_path} не найден!")
        return
    
    try:
        with open(file_path, 'r', encoding='utf-8') as file:
            text = file.read().lower()

        punct = r'''!()-[]{};:\'",<>./?@#$%^&*_~'''
        cleaned_text = ''.join(char for char in text if char not in punct)

        words = cleaned_text.split()
        word_count = len(words)
        unique_words = len(set(words))

        top_words = Counter(words).most_common(5)

        print(f"Всего слов: {word_count}")
        print(f"Уникальных слов:  {unique_words}")
        print(f"Топ-5 слов: {top_words}")

    except UnicodeDecodeError:
        print("Ошибка: неверная кодировка файла!")
    except Exception as e:
        print(f"Неизвестная ошибка: {e}")
